<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuring for Logging</title>
    <link rel="canonical" href="http://localhost:5000/csharp/5.1/configuration/logging.html">
    <link rel="prev" href="monitoring.html">
    <link rel="next" href="sys-props.html">
    <meta name="generator" content="Antora 3.0.1">
<link
rel="stylesheet"
href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"
/>
<!-- Apply the site styles after the docsearch ones -->
<link rel="stylesheet" href="../../../_/css/site.css">
<style>
  .nav-item[data-depth="1"] {
  color: #6d7480;
}
</style>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
<meta name="google-site-verification" content="8R6s5prYCHuUDIJfpL-WfcRCcN-VYjG1ps1o-dKT7Ro" />
<script src="https://kit.fontawesome.com/11f046e3f7.js" crossorigin="anonymous"></script>
<script src="https://cdn.lr-ingest.io/LogRocket.min.js" crossorigin="anonymous"></script>
<script>window.LogRocket && window.LogRocket.init('fppkhg/documentation');</script>
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://hazelcast.com/"><img src="../../../_/img/hazelcast-header.svg"></img></a>
      <a class="navbar-item" id="documentation-header" href="http://localhost:5000">Documentation</img></a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-start">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#" onclick="return false">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://hazelcast.com/products/cloud/" onclick="window.open(this.href,'_blank');return false;">Hazelcast Cloud</a>
            <a class="navbar-item" href="https://hazelcast.com/products/hazelcast-platform/" onclick="window.open(this.href,'_blank');return false;">Hazelcast Platform</a>          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#" onclick="return false">Learn</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../../home/index.html">Docs</a>
            <a class="navbar-item" href="https://training.hazelcast.com/" onclick="window.open(this.href,'_blank');return false;">Online Training</a>
            <a class="navbar-item" href="https://hazelcast.com/resources/" onclick="window.open(this.href,'_blank');return false;">Search All Resources</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#" onclick="return false">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://hazelcast.com/hub/" onclick="window.open(this.href,'_blank');return false;">Integration Hub</a>
            <a class="navbar-item" href="https://hazelcast.com/use-cases/" onclick="window.open(this.href,'_blank');return false;">Use Cases</a>
            <a class="navbar-item" href="https://hazelcast.com/community/" onclick="window.open(this.href,'_blank');return false;">Community</a>
            <a class="navbar-item" href="https://hazelcast.com/blog/" onclick="window.open(this.href,'_blank');return false;">Blog</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#" onclick="return false">API Reference</a>
          <div class="navbar-dropdown">
            <a class="navbar-item"href="https://docs.hazelcast.org/docs/latest/javadoc" onclick="window.open(this.href,'_blank');return false;">Java</a>
            <a class="navbar-item"href="https://pkg.go.dev/github.com/hazelcast/hazelcast-go-client?tab=versions" onclick="window.open(this.href,'_blank');return false;">Go</a>
            <a class="navbar-item"href="http://hazelcast.github.io/hazelcast-csharp-client/api-index.html" onclick="window.open(this.href,'_blank');return false;">C#</a>
            <a class="navbar-item"href="http://hazelcast.github.io/hazelcast-cpp-client/api-index.html" onclick="window.open(this.href,'_blank');return false;">C++</a>
            <a class="navbar-item" href="https://readthedocs.org/projects/hazelcast/" onclick="window.open(this.href,'_blank');return false;">Python</a>
            <a class="navbar-item" href="http://hazelcast.github.io/hazelcast-nodejs-client/" onclick="window.open(this.href,'_blank');return false;">Node.js</a>
          </div>
        </div>
      </div>
      <div class="navbar-end">
        <div class="navbar-item searchbox">
            <a id="search-open" ><i class="fa fa-search" aria-hidden="true"></i></a>
            <input id="search-input" type="text" placeholder="Search docs">
            <label class="filter checkbox">
              <input id="facet" type="checkbox" onclick="applyFacetedSearch()"> All products
            </label>
        </div>
        <div class="navbar-item">
          <a href="https://hazelcast.com/get-started" onclick="window.open(this.href,'_blank');return false;">
          <button class="button">Get Hazelcast</button>
          </a>
        </div>
      </div>
    </div>
  </nav>
  <div class="cookie-banner" id="cookie">
<p>
    This website uses cookies to give you the best experience.
    <a href="https://hazelcast.com/privacy/">Learn more</a>
  </p>
<button class="close" id="cookie-close">Close</button>
</div></header>
<div class="body">
<div class="nav-container" data-component="csharp" data-version="5.1">
  <aside class="nav">
      <div class="nav-panel-explore" data-panel="explore">
    <div class="context">
      <span class="title">.NET</span>
        <span class="version">5.2-SNAPSHOT</span>
      <button class="nav-item-toggle nav-explore-toggle"></button>
    </div>
  <ul class="components">
    <li style="list-style: none;">Select a different product or version:</li>
    </br>
        <li class="component is-current">
            <span class="title">.NET <a class="more-versions">See all versions</a><a class="fewer-versions">See fewer versions</a></span>
          <ul class="versions">
                    <li class="version is-current is-latest">
                      <a href="../index.html">5.2-SNAPSHOT</a>
                    </li>
          </ul>
        </li>
  </ul>
</div>
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
  <ul class="nav-list">
      <li class="nav-item" data-depth="0">
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../quickstart.html">Quickstart</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Configuration</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="overview.html">Configuration Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="connections.html">Network and Cluster Connections</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="security.html">Security</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="failures.html">Handling Failures</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="monitoring.html">Monitoring</a>
              </li>
      <li class="nav-item is-current-page" data-depth="2">
            <a class="nav-link

            " href="logging.html">Logging</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="sys-props.html">Configuration Options Wrap-Up</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Serialization</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/overview.html">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/ids.html">IdentifiedDataSerializable</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/portable.html">Portable</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/custom.html">Custom</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/json.html">JSON</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/global.html">Global</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Using Hazelcast Features</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../using-hazelcast/objects.html">Distributed Objects</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../using-hazelcast/primitives.html">Primitives</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../using-hazelcast/queries.html">Queries</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../using-hazelcast/computing.html">Computing</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../using-hazelcast/cp-subsystem.html">CP Subsystem</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../using-hazelcast/locking.html">Locking</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../events.html">Events</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../examples.html">Example Codes</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../apidoc.html">API Documentation</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../development.html">Development and Contributing</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Release Notes</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../release-notes.html">5.2 Release Notes</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
  </ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<div id="hide-nav">
  <button>
    <span>
      ᐸ
    </span>
  </button>
</div>
<main class="article">
    <script>
    function closeBanner() {
      document.getElementById('latest-banner').style.display = 'none'
      const now = new Date()
      const item = {
        expiry: now.getTime() + 86400,
      }
      localStorage.setItem('latestBannerCookie', JSON.stringify(item))
    }
  </script>
  <div class="content">
<article class="doc">
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">.NET</a></li>
    <li>Configuration</li>
    <li><a href="logging.html">Logging</a></li>
  </ul>
</nav>
<button class="nav-toggle"></button>
<h1 class="page">Configuring for Logging</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Hazelcast .NET client uses the logging abstractions proposed by the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging">Microsoft.Extensions.Logging</a> namespace.</p>
</div>
<div class="paragraph">
<p>By default, the client supports the abstractions, but does not come with any actual implementation. This means that, by default, the client will not output any log information. To actually log, an implementation must be added to the project.</p>
</div>
<div class="paragraph">
<p>Microsoft provides a range of providers to log to various destinations. In addition, a variety of third-party products such as <a href="https://serilog.net/">Serilog</a> support complex logging patterns and more destinations (to the filesystem, the Cloud, etc).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="logging-to-console"><a class="anchor" href="#logging-to-console"></a>Logging to Console</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To enable logging to console, add a NuGet reference to the <a href="https://www.nuget.org/packages/microsoft.extensions.logging.console">Microsoft.Extensions.Logging.Console</a> NuGet package, and then configure the Hazelcast client to use that implementation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-csharp hljs" data-lang="csharp">var hazelcastOptions = new HazelcastOptionsBuilder()
    .With(args)
    .WithConsoleLogger(LogLevel.Information)
    .Build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>WithConsoleLogger</code> is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-csharp hljs" data-lang="csharp">public static HazelcastOptionsBuilder WithConsoleLogger(this HazelcastOptionsBuilder builder, LogLevel hazelcastLogLevel = LogLevel.None)
{
    return builder
        .With("Logging:LogLevel:Default", "None")
        .With("Logging:LogLevel:System", "Information")
        .With("Logging:LogLevel:Microsoft", "Information")
        .With("Logging:LogLevel:Hazelcast", hazelcastLogLevel.ToString())
        .With((configuration, options) =&gt;
        {
            // configure logging factory and add the console provider
            options.LoggerFactory.Creator = () =&gt; LoggerFactory.Create(loggingBuilder =&gt;
                loggingBuilder
                    .AddConfiguration(configuration.GetSection("logging"))
                    .AddConsole());
        });
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the in-memory option set with <code>.With("Logging:LogLevel:Hazelcast", hazelcastLogLevel.ToString())</code> statement takes precedence over everything else (command-line, environment variables, etc.) and you may want to comment it out when experimenting with the code.</p>
</div>
<div class="paragraph">
<p>You can find this example as <a href="https://github.com/hazelcast/hazelcast-csharp-client/blob/master/src/Hazelcast.Net.Examples/LoggingExample.cs">LoggingExample.cs</a> in our examples project. If you build and run this example, it will produce the following output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-plain hljs" data-lang="plain">info: Hazelcast.Examples.LoggingExample.A[0]
      This is an INFO message from Hazelcast.Examples.LoggingExamples.A
warn: Hazelcast.Examples.LoggingExample.A[0]
      This is a WARNING message from Hazelcast.Examples.LoggingExamples.A
warn: Hazelcast.Examples.LoggingExample.B[0]
      This is a WARNING message from Hazelcast.Examples.LoggingExamples.B</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can experiment changing the log levels in code, or via the command line, or via environment variables:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">PS&gt; ./hz.ps1 run-example Logging --- --Logging:LogLevel:Hazelcast=Debug</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also note that options set with <code>With("Logging:LogLevel:Hazelcast", "Debug")</code> method calls take precedence over command line options.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changing-log-level"><a class="anchor" href="#changing-log-level"></a>Changing Log Level</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The example above defines log levels:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>None</code> by default.</p>
</li>
<li>
<p><code>Information</code> for loggers named <code>System.<strong></code> or <code>Microsoft.</strong></code>.</p>
</li>
<li>
<p><code>Information</code> for loggers named <code>Hazelcast.*</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The various existing <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.logging.loglevel">LogLevel</a> values allows for fine-tuning of what should, or should not, be logged. We recommend running Hazelcast with the <code>Information</code> log level by default, though running with the <code>Debug</code> log level may help troubleshooting issues (but should not be used in production environment).</p>
</div>
<div class="paragraph">
<p>Logging is configured as per <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging">Microsoft.Extensions.Logging</a> conventions. In a configuration file, one would need a <code>logging</code> section distinct from the hazelcast section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "hazelcast": {
        ...
    },
    "logging": {
        "logLevel": {
            "Default": "Debug",
            "System": "Information",
            "Microsoft": "Information",
            "Hazelcast.Examples.MyApp", "Information"
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Refer to Microsoft&#8217;s documentation for more details.</p>
</div>
<div class="paragraph">
<p>Logging can also be configured programmatically with statements such as <code>.With("Logging:LogLevel:Hazelcast", LogLevel.Debug.ToString())</code> as per the example above.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="reusing-the-logging-system"><a class="anchor" href="#reusing-the-logging-system"></a>Reusing the Logging System</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The logging system is available for the user to log in their application, too. At the moment, the best way to access the logging system is as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-csharp hljs" data-lang="csharp">var loggerFactory = hazelcastOptions.LoggerFactory.Service;
var logger = loggerFactory.CreateLogger&lt;MyClass&gt;();
logger.LogInformation("hello!"):</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
in the future, the logging system will be more directly exposed by the client, e.g., <code>hazelcastClient.LoggerFactory.CreateLogger&lt;MyClass&gt;()</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dependency-injection-applications"><a class="anchor" href="#dependency-injection-applications"></a>Dependency Injection Applications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In a typical application relying on dependency injection, the logger factory and loggers are registered in a container and injected in code. The <a href="https://github.com/hazelcast/hazelcast-csharp-client/blob/master/src/Hazelcast.Net.Examples/Client/ContainerExample.cs">ContainerExample</a> and <a href="https://github.com/hazelcast/hazelcast-csharp-client/blob/master/src/Hazelcast.Net.Examples/Client/HostedExample.cs">HostedExample</a> are good starting points to understand how to wire Hazelcast in such applications.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="other-implementations"><a class="anchor" href="#other-implementations"></a>Other Implementations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using a different implementation consists of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adding a NuGet reference to a different NuGet package, such as <a href="https://www.nuget.org/packages/Microsoft.Extensions.Logging.AzureAppServices/">Microsoft.Extensions.Logging.AzureAppServices</a> in order to log to Azure App Services, or a Serilog package to log to a file</p>
</li>
<li>
<p>Replacing the <code>AddConsole()</code> call above with the appropriate method, as defined by the implementation.</p>
</li>
</ul>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="monitoring.html">Monitoring</a></span>
  <span class="next"><a href="sys-props.html">Configuration Options Wrap-Up</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="1">
  <div class="toc-menu">
  </div>
  </br>
<div id="feedback-prompt">
  <form name="docs-feedback" id="feedback-form" netlify-honeypot="bot-field" method="POST" data-netlify="true">
    <label>Was this page helpful?</label><br>
    <p class="hidden">
    <label>Don’t fill this out if you’re human: <input name="bot-field" /></label>
    </p>
    <input type="radio" id="yes" name="helpful" value="yes" onclick="submitForm()">
    <label for="yes" id="yes-button"><i class="far fa-check-circle"></i> Yes</label>
    <input type="radio" id="no" name="helpful" value="no" onclick="submitForm()">
    <label for="no" id="no-button"><i class="far fa-times-circle"></i> No</label><br>
    </select>
</form>
</div>
<script>
  function submitForm() {
    document.getElementById("feedback-form").submit();
  }
</script>
  <div class="edit-this-page"><a class="git-pull" href="file:///Users/serdarozmen/Desktop/hazelcast-csharp-client/docs/modules/configuration/pages/logging.adoc" onclick="window.open(this.href,'_blank');return false;">Edit this page</a></div>
</aside>
  </div>
</main>

</div>
<footer class="footer">
  <a href="https://hazelcast.com/terms-of-use/">Terms of service</a>
  <a href="https://hazelcast.com/privacy/">Privacy</a>
  <a href="https://hazelcast.com/contact/">Contact us</a>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script>
    const search = window.docsearch({
      apiKey: 'ef7bd9485eafbd75d6e8425949eda1f5',
      indexName: 'prod_hazelcast_docs',
      appId: 'QK2EAH8GB0',
      inputSelector: '#search-input',
      // Set debug to true to inspect the dropdown
      debug: false,
      // Display 25 results in the dropdown
      // and search only the current product
      algoliaOptions: { hitsPerPage: 25, facetFilters: ["tags:csharp-5.1"] },
    });
  </script>
  <script>
    function closeBanner() {
      var banner = document.getElementById('latest-banner')
      if (banner) {
        banner.style.display = 'none'
        const now = new Date()
        const item = {
          expiry: now.getTime() + 86400000,
        }
        localStorage.setItem('latestBannerCookie', JSON.stringify(item))
      }
    }
  </script>
  </body>
</html>
